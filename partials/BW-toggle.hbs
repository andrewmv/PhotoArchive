<style>
    [data-BW='colour'] .d-block-colour,
    [data-BW='BW'] .d-block-BW {
        display: block;
        cursor: pointer;
        fill: var(--tertiary);
    }
    [data-BW='colour'] .d-block-colour:hover,
    [data-BW='BW'] .d-block-BW:hover {
        fill: var(--secondary);
        transition-duration: 500ms;
    }
    [data-BW='BW'] .lg-container img {
        -webkit-filter: unset;
        filter: unset;
    }
</style>

<div id="BW-mode-toggle" title="Toggle Black and White">
    
    <svg class="d-block-colour d-none" onclick="switchBW();"
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
        <path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-2V6a6 6 0 1 1 0 12z"/>
    </svg>

    <svg class="d-block-BW d-none" onclick="switchBW();"
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
        <path d="M12 2c5.522 0 10 3.978 10 8.889a5.558 5.558 0 0 1-5.556 5.555h-1.966c-.922 0-1.667.745-1.667 1.667 0 .422.167.811.422 1.1.267.3.434.689.434 1.122C13.667 21.256 12.9 22 12 22 6.478 22 2 17.522 2 12S6.478 2 12 2zm-1.189 16.111a3.664 3.664 0 0 1 3.667-3.667h1.966A3.558 3.558 0 0 0 20 10.89C20 7.139 16.468 4 12 4a8 8 0 0 0-.676 15.972 3.648 3.648 0 0 1-.513-1.86zM7.5 12a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm9 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM12 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
    </svg>

</div>

<script> 
    reference: https://lukelowrey.com/css-variable-theme-switcher/
    
    var storedBW = localStorage.getItem('BW') || (window.matchMedia("(prefers-color-scheme: BW)").matches ? "BW" : "colour");
    if (storedBW) {
        document.documentElement.setAttribute('data-BW', storedBW)
    } else {
        document.documentElement.setAttribute('data-BW', "colour")
    }

    function switchBW() {
        var currentBW = document.documentElement.getAttribute("data-BW");
        var targetBW = "colour";

        if (currentBW === "colour") {
            targetBW = "BW";
        }

        document.documentElement.setAttribute('data-BW', targetBW)
        localStorage.setItem('BW', targetBW);
    };
</script>
